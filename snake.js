(function(){null==window.Game&&(window.Game={});var f=Game,b=function(a,d,c){var b,e=this;this.snake=a;this.squaresX=d!=null?d:25;this.squaresY=c!=null?c:15;this.snake.cage(this.squaresX,this.squaresY);this.grid=$('<div id="grid"></div>');this.squareHeight=this.squareWidth=15;this.foodDropped=false;this.grid.width(this.squareWidth*this.squaresX);this.grid.height(this.squareHeight*this.squaresY);b=this.makeSquare("square");this.activeSquares=this.snake.chain.map(function(){return b.clone().appendTo(e.grid)});
this.grid.insertBefore($("body script").eq(0));this.food=this.makeSquare("food");this.grid.append(this.food);this.dropFood()};b.prototype.randInt=function(a,d){return Math.floor(Math.random()*(d-a+1))+a};b.prototype.makeSquare=function(a){return $("<div class='"+a+"'></div>").width(this.squareWidth).height(this.squareHeight)};b.prototype.dropFood=function(){var a,d;if(!this.foodDropped){a=this.randInt(0,this.squareWidth-1);d=this.randInt(0,this.squareHeight-1);this.food.css({left:a*this.squareWidth+
this.grid.offset().left,top:d*this.squareHeight+this.grid.offset().top});this.food.show();return this.foodDropped=true}};b.prototype.update=function(){var a,d,c,b,e;e=this.snake.chain;a=c=0;for(b=e.length;c<b;a=++c){d=e[a];this.activeSquares[a].css({left:d.x*this.squareWidth+this.grid.offset().left,top:d.y*this.squareHeight+this.grid.offset().top})}return this.dropFood()};f.Grid=b}).call(this);(function(){null==window.Game&&(window.Game={});var f=Game,b=function(a){this.direction=a!=null?a:"down";this.y=this.x=4;this.length=6;this.boundaryY=this.boundaryX=null;this.queuedDirection=this.direction;var d,c,b;b=[];a=d=0;for(c=this.length-1;0<=c?d<=c:d>=c;a=0<=c?++d:--d)b.push({x:this.x,y:this.y-a});this.chain=b;this.setupControls()};b.prototype.setupControls=function(){var a=this;return $(window).keydown(function(b){var c;c=a.queuedDirection;switch(b.keyCode){case 37:c="left";break;case 38:c=
"up";break;case 39:c="right";break;case 40:c="down"}if(!a.isOpposite(c))return a.queuedDirection=c})};b.prototype.isOpposite=function(a){return a==="left"&&this.direction==="right"||a==="right"&&this.direction==="left"||a==="up"&&this.direction==="down"||a==="down"&&this.direction==="up"?true:false};b.prototype.cage=function(a,b){this.boundaryX=a;return this.boundaryY=b};b.prototype.move=function(){var a,b,c,f,e,g,h,k,i,l,m,j;this.direction=this.queuedDirection;switch(this.direction){case "up":if(this.y<=
0)return;this.y=this.y-1;break;case "right":if(this.x>=this.boundaryX-1)return;this.x=this.x+1;break;case "down":if(this.y>=this.boundaryY-1)return;this.y=this.y+1;break;case "left":if(this.x<=0)return;this.x=this.x-1}c=this.x;f=this.y;a=this.chain[0].x;b=this.chain[0].y;i=this.chain;j=[];e=h=0;for(k=i.length;h<k;e=++h){g=i[e];g.x=c;g.y=f;c=a;f=b;a=(l=this.chain[e+1])!=null?l.x:void 0;j.push(b=(m=this.chain[e+1])!=null?m.y:void 0)}return j};f.Snake=b}).call(this);(function(){var f,b,a;a=new Game.Snake;f=new Game.Grid(a);b=function(){a.move();return f.update()};setInterval(b,150);b()}).call(this);
